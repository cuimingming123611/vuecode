<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>vue-resource发起请求</title>
    <script src="../lib/vue.js"></script>
    <!--要在vue下面引入vue-resource的js文件-->
    <!--表示vue新增的一个属性，例如：this.$http-->
    <script src="https://cdn.bootcss.com/vue-resource/1.3.6/vue-resource.js"></script>

</head>
<body>
    <div id="app">
        <input type="button" value="get请求" @click="getInfo">
        <input type="button" value="pos请求" @click="postInfo">
        <input type="button" value="jsonp请求" @click="jsonpInfo">
    </div>
    <script>
        new Vue({
            el:'#app',
            data:{
                getUrl:'http://vue.studyit.io/api/getlunbo',
                postUrl:'http://vue.studyit.io/api/post',
                jsonpUrl:'http://vue.studyit.io/api/jsonp',

            },
            methods:{
                getInfo(){
                    console.log("发起了get请求，请求地址为："+this.getUrl);
                    this.$http.get(this.getUrl).then(function (result) {
                        console.log("请求成功后的内容:");
                        console.log(result);

                    },function (result) {
                        console.log("请求失败！失败的内容为："+result);

                    })
                },
                postInfo(){
                    console.log("发起了get请求，请求地址为："+this.postUrl);

                    //emulateJSON设置为true，表示提交的格式为form表单的格式
                    this.$http.post(this.postUrl,{},{emulateJSON:true}).then(result =>{
                        if (result.status === 200){
                            console.log('post请求成功:'+resule.body);
                        } else {
                            console.log('post请求失败：'+ err);
                        }
                    })

                },
                jsonpInfo(){
                    console.log("发起了jsonp请求，请求地址为："+this.jsonpUrl);
                    this.$http.jsonp(this.jsonpUrl).then(function (result) {
                        console.log("请求成功后的内容:");
                        console.log(result);

                    },function (result) {
                        console.log("请求失败！失败的内容为："+result);

                    })
                }

            },


        })
    </script>

<!--

get请求地址：http://vue.studyit.io/api/getlunbo
post请求地址：http://vue.studyit.io/api/post
jsonp请求地址：http://vue.studyit.io/api/jsonp

-->

</body>
</html>
